/*
 * ECHOSPHERE.IO â€” Master Style Guide
 * Version: 2.0
 * Date: January 2025
 * 
 * This is the single source of truth for all site styling.
 * All pages import this file.
 * 
 * CONTENTS:
 * 1. Variables (colors, typography, spacing)
 * 2. Reset & Base
 * 3. Typography
 * 4. Layout Components
 * 5. Navigation
 * 6. Content Blocks
 * 7. Visual Elements (diagrams, callouts, tables)
 * 8. Addenda System
 * 9. Media Attachments (podcasts, videos, essays)
 * 10. Footer
 * 11. Responsive
 */

/* ===========================================
   1. VARIABLES
   =========================================== */

:root {
    /* Colors - Charcoal + Gold */
    --color-bg-primary: #0d0d0d;
    --color-bg-secondary: #1a1a1a;
    --color-bg-tertiary: #2a2a2a;
    
    --color-gold: #c9a227;
    --color-gold-dim: rgba(201, 162, 39, 0.4);
    --color-gold-ghost: rgba(201, 162, 39, 0.15);
    --color-gold-bright: #e6bc2f;
    
    --color-text-primary: #e8e6e1;
    --color-text-secondary: #a8a6a1;
    --color-text-dim: #6a6865;
    --color-text-inverse: #0d0d0d;
    
    --color-border: #2a2a2a;
    --color-border-light: #3a3a3a;
    
    /* Typography */
    --font-display: 'Cormorant Garamond', Georgia, serif;
    --font-body: 'IBM Plex Sans', -apple-system, sans-serif;
    --font-mono: 'IBM Plex Mono', monospace;
    
    /* Type Scale - Denser */
    --text-xs: 0.75rem;      /* 12px */
    --text-sm: 0.85rem;      /* 13.6px */
    --text-base: 0.95rem;    /* 15.2px */
    --text-lg: 1.1rem;       /* 17.6px */
    --text-xl: 1.3rem;       /* 20.8px */
    --text-2xl: 1.6rem;      /* 25.6px */
    --text-3xl: 2rem;        /* 32px */
    --text-4xl: 2.5rem;      /* 40px */
    
    /* Line Heights - Tighter */
    --leading-tight: 1.25;
    --leading-normal: 1.5;
    --leading-relaxed: 1.6;
    
    /* Spacing Scale - Compact */
    --space-xs: 0.25rem;     /* 4px */
    --space-sm: 0.5rem;      /* 8px */
    --space-md: 1rem;        /* 16px */
    --space-lg: 1.5rem;      /* 24px */
    --space-xl: 2rem;        /* 32px */
    --space-2xl: 3rem;       /* 48px */
    --space-3xl: 4rem;       /* 64px */
    
    /* Layout */
    --max-width-content: 720px;
    --max-width-wide: 1000px;
    --max-width-full: 1200px;
    
    /* Transitions */
    --transition-fast: 0.15s ease;
    --transition-normal: 0.3s ease;
}

/* ===========================================
   2. RESET & BASE
   =========================================== */

*, *::before, *::after {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    scroll-behavior: smooth;
    font-size: 16px;
}

body {
    font-family: var(--font-body);
    font-size: var(--text-base);
    line-height: var(--leading-normal);
    color: var(--color-text-primary);
    background-color: var(--color-bg-primary);
    -webkit-font-smoothing: antialiased;
}

/* ===========================================
   3. TYPOGRAPHY
   =========================================== */

h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-display);
    font-weight: 600;
    line-height: var(--leading-tight);
    color: var(--color-text-primary);
}

h1 {
    font-size: var(--text-3xl);
    margin-bottom: var(--space-md);
}

h2 {
    font-size: var(--text-2xl);
    margin-top: var(--space-xl);
    margin-bottom: var(--space-md);
    color: var(--color-gold);
}

h3 {
    font-size: var(--text-xl);
    margin-top: var(--space-lg);
    margin-bottom: var(--space-sm);
}

h4 {
    font-size: var(--text-lg);
    margin-top: var(--space-md);
    margin-bottom: var(--space-sm);
}

p {
    margin-bottom: var(--space-md);
    color: var(--color-text-secondary);
}

p:last-child {
    margin-bottom: 0;
}

strong, b {
    font-weight: 600;
    color: var(--color-text-primary);
}

em, i {
    font-style: italic;
}

a {
    color: var(--color-gold);
    text-decoration: none;
    transition: color var(--transition-fast);
}

a:hover {
    color: var(--color-gold-bright);
}

/* Lists - Compact */
ul, ol {
    margin-bottom: var(--space-md);
    padding-left: var(--space-lg);
}

li {
    margin-bottom: var(--space-xs);
    color: var(--color-text-secondary);
}

li::marker {
    color: var(--color-gold-dim);
}

/* Blockquote */
blockquote {
    border-left: 2px solid var(--color-gold);
    padding-left: var(--space-md);
    margin: var(--space-lg) 0;
    font-family: var(--font-display);
    font-style: italic;
    font-size: var(--text-lg);
    color: var(--color-text-primary);
}

/* Code */
code {
    font-family: var(--font-mono);
    font-size: var(--text-sm);
    background: var(--color-bg-tertiary);
    padding: 0.1em 0.3em;
    border-radius: 3px;
}

pre {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    padding: var(--space-md);
    overflow-x: auto;
    margin: var(--space-md) 0;
    border-radius: 4px;
}

pre code {
    background: none;
    padding: 0;
}

/* Horizontal Rule */
hr {
    border: none;
    border-top: 1px solid var(--color-border);
    margin: var(--space-xl) 0;
}

/* ===========================================
   4. LAYOUT COMPONENTS
   =========================================== */

/* Container */
.container {
    max-width: var(--max-width-content);
    margin: 0 auto;
    padding: 0 var(--space-lg);
}

.container--wide {
    max-width: var(--max-width-wide);
}

.container--full {
    max-width: var(--max-width-full);
}

/* Section */
.section {
    padding: var(--space-2xl) 0;
}

.section--tight {
    padding: var(--space-xl) 0;
}

.section--alt {
    background: var(--color-bg-secondary);
}

/* Two Column Layout */
.two-col {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-xl);
    align-items: start;
}

.two-col--wide-left {
    grid-template-columns: 2fr 1fr;
}

.two-col--wide-right {
    grid-template-columns: 1fr 2fr;
}

/* Three Column Layout */
.three-col {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-lg);
}

/* ===========================================
   5. NAVIGATION
   =========================================== */

.nav {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1000;
    padding: var(--space-md) var(--space-xl);
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: linear-gradient(to bottom, var(--color-bg-primary) 0%, transparent 100%);
}

.nav__logo {
    font-family: var(--font-display);
    font-size: var(--text-lg);
    font-weight: 600;
    color: var(--color-text-primary);
    text-decoration: none;
}

.nav__logo span {
    color: var(--color-gold);
}

.nav__links {
    display: flex;
    gap: var(--space-xl);
    list-style: none;
}

.nav__links a {
    font-size: var(--text-sm);
    color: var(--color-text-dim);
    letter-spacing: 0.02em;
}

.nav__links a:hover {
    color: var(--color-gold);
}

/* ===========================================
   6. CONTENT BLOCKS
   =========================================== */

/* Page Header */
.page-header {
    padding: calc(var(--space-3xl) + 60px) 0 var(--space-xl);
    border-bottom: 1px solid var(--color-border);
    margin-bottom: var(--space-xl);
}

.page-header__eyebrow {
    font-size: var(--text-xs);
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: var(--color-gold);
    margin-bottom: var(--space-sm);
}

.page-header__title {
    font-size: var(--text-4xl);
    margin-bottom: var(--space-sm);
}

.page-header__subtitle {
    font-family: var(--font-display);
    font-size: var(--text-lg);
    font-style: italic;
    color: var(--color-text-dim);
}

/* Content Article */
.article {
    max-width: var(--max-width-content);
    margin: 0 auto;
    padding: 0 var(--space-lg);
}

.article__section {
    margin-bottom: var(--space-2xl);
}

/* Lead Paragraph */
.lead {
    font-size: var(--text-lg);
    color: var(--color-text-primary);
    margin-bottom: var(--space-lg);
}

/* ===========================================
   7. VISUAL ELEMENTS
   =========================================== */

/* Tables - Compact */
.table-wrap {
    overflow-x: auto;
    margin: var(--space-lg) 0;
}

table {
    width: 100%;
    border-collapse: collapse;
    font-size: var(--text-sm);
}

th {
    text-align: left;
    padding: var(--space-sm) var(--space-md);
    background: var(--color-bg-tertiary);
    color: var(--color-text-primary);
    font-weight: 600;
    border-bottom: 2px solid var(--color-gold-dim);
}

td {
    padding: var(--space-sm) var(--space-md);
    border-bottom: 1px solid var(--color-border);
    color: var(--color-text-secondary);
}

tr:hover td {
    background: var(--color-bg-secondary);
}

/* Callout Box */
.callout {
    background: var(--color-bg-secondary);
    border-left: 3px solid var(--color-gold);
    padding: var(--space-md) var(--space-lg);
    margin: var(--space-lg) 0;
}

.callout--warning {
    border-left-color: #e63946;
}

.callout--info {
    border-left-color: #457b9d;
}

.callout__title {
    font-size: var(--text-sm);
    font-weight: 600;
    color: var(--color-gold);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    margin-bottom: var(--space-xs);
}

.callout p {
    margin: 0;
    font-size: var(--text-sm);
}

/* Key Point */
.key-point {
    display: flex;
    gap: var(--space-md);
    padding: var(--space-md) 0;
    border-bottom: 1px solid var(--color-border);
}

.key-point__marker {
    flex: 0 0 auto;
    width: 28px;
    height: 28px;
    background: var(--color-gold);
    color: var(--color-text-inverse);
    font-size: var(--text-sm);
    font-weight: 600;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 2px;
}

.key-point__content {
    flex: 1;
}

.key-point__title {
    font-weight: 600;
    color: var(--color-text-primary);
    margin-bottom: var(--space-xs);
}

.key-point__desc {
    font-size: var(--text-sm);
    color: var(--color-text-dim);
    margin: 0;
}

/* Diagram Container */
.diagram {
    margin: var(--space-xl) 0;
    text-align: center;
}

.diagram svg {
    max-width: 100%;
    height: auto;
}

.diagram__caption {
    font-size: var(--text-xs);
    color: var(--color-text-dim);
    margin-top: var(--space-sm);
    font-style: italic;
}

/* Card Grid */
.card-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1px;
    background: var(--color-border);
    margin: var(--space-lg) 0;
}

.card {
    background: var(--color-bg-primary);
    padding: var(--space-lg);
    transition: background var(--transition-fast);
}

.card:hover {
    background: var(--color-bg-secondary);
}

.card__icon {
    font-size: var(--text-xl);
    margin-bottom: var(--space-sm);
}

.card__title {
    font-family: var(--font-display);
    font-size: var(--text-lg);
    font-weight: 600;
    color: var(--color-text-primary);
    margin-bottom: var(--space-xs);
}

.card__subtitle {
    font-size: var(--text-sm);
    color: var(--color-text-dim);
}

/* ===========================================
   8. ADDENDA SYSTEM
   =========================================== */

/*
 * Addenda are sequential updates to original content.
 * Original content is NEVER modified.
 * Each addendum has: number, date, title, content.
 * 
 * Usage:
 * <div class="addenda">
 *   <h2 class="addenda__header">Updates & Addenda</h2>
 *   <div class="addendum" id="addendum-1">
 *     <div class="addendum__meta">
 *       <span class="addendum__number">Addendum 1</span>
 *       <span class="addendum__date">2025-02-15</span>
 *     </div>
 *     <h3 class="addendum__title">Title</h3>
 *     <div class="addendum__content">...</div>
 *   </div>
 * </div>
 */

.addenda {
    margin-top: var(--space-3xl);
    padding-top: var(--space-xl);
    border-top: 2px solid var(--color-border);
}

.addenda__header {
    font-size: var(--text-lg);
    color: var(--color-text-dim);
    margin-bottom: var(--space-lg);
}

.addendum {
    background: var(--color-bg-secondary);
    padding: var(--space-lg);
    margin-bottom: var(--space-md);
    border-left: 3px solid var(--color-gold-dim);
}

.addendum__meta {
    display: flex;
    gap: var(--space-md);
    margin-bottom: var(--space-sm);
}

.addendum__number {
    font-size: var(--text-xs);
    font-weight: 600;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--color-gold);
}

.addendum__date {
    font-size: var(--text-xs);
    color: var(--color-text-dim);
}

.addendum__title {
    font-size: var(--text-lg);
    margin-bottom: var(--space-sm);
}

.addendum__content {
    font-size: var(--text-sm);
}

.addendum__content p {
    margin-bottom: var(--space-sm);
}

/* ===========================================
   9. MEDIA ATTACHMENTS
   =========================================== */

/*
 * Attached media: podcasts, videos, essays, emails
 * Can be added to any page or addendum
 */

.media-list {
    margin: var(--space-lg) 0;
}

.media-item {
    display: flex;
    gap: var(--space-md);
    padding: var(--space-md);
    background: var(--color-bg-secondary);
    margin-bottom: var(--space-sm);
    text-decoration: none;
    transition: background var(--transition-fast);
}

.media-item:hover {
    background: var(--color-bg-tertiary);
}

.media-item__icon {
    flex: 0 0 40px;
    height: 40px;
    background: var(--color-bg-tertiary);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--text-lg);
    color: var(--color-gold);
}

.media-item__content {
    flex: 1;
}

.media-item__type {
    font-size: var(--text-xs);
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--color-text-dim);
}

.media-item__title {
    font-size: var(--text-base);
    color: var(--color-text-primary);
    font-weight: 500;
}

.media-item__date {
    font-size: var(--text-xs);
    color: var(--color-text-dim);
}

/* Media Type Icons (use with icon font or SVG) */
.media-item--podcast .media-item__icon::before { content: "ðŸŽ™"; }
.media-item--video .media-item__icon::before { content: "â–¶"; }
.media-item--essay .media-item__icon::before { content: "âœŽ"; }
.media-item--email .media-item__icon::before { content: "âœ‰"; }
.media-item--update .media-item__icon::before { content: "â†»"; }

/* ===========================================
   10. FOOTER
   =========================================== */

.footer {
    padding: var(--space-xl) var(--space-xl);
    border-top: 1px solid var(--color-border);
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: var(--space-lg);
}

.footer__logo {
    font-family: var(--font-display);
    font-size: var(--text-base);
    font-weight: 600;
    color: var(--color-text-primary);
}

.footer__logo span {
    color: var(--color-gold);
}

.footer__copy {
    font-size: var(--text-xs);
    color: var(--color-text-dim);
}

.footer__links {
    display: flex;
    gap: var(--space-lg);
}

.footer__links a {
    font-size: var(--text-sm);
    color: var(--color-text-dim);
}

.footer__links a:hover {
    color: var(--color-gold);
}

.footer__contact a {
    font-size: var(--text-sm);
    color: var(--color-gold);
}

/* ===========================================
   11. RESPONSIVE
   =========================================== */

@media (max-width: 900px) {
    .two-col,
    .two-col--wide-left,
    .two-col--wide-right {
        grid-template-columns: 1fr;
    }
    
    .three-col {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 600px) {
    :root {
        --text-3xl: 1.75rem;
        --text-4xl: 2rem;
    }
    
    .nav {
        padding: var(--space-md);
    }
    
    .nav__links {
        display: none; /* Replace with mobile menu */
    }
    
    .container {
        padding: 0 var(--space-md);
    }
    
    .footer {
        flex-direction: column;
        text-align: center;
    }
}
